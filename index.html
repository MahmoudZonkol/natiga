<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>نتائج الثانوية العامة</title>
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;500;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    <style>
        :root{--primary-color:#4A69BD;--secondary-color:#1e90ff;--success-color:#2ecc71;--fail-color:#e74c3c;--bg-color:#f8f9fa;--card-bg:#ffffff;--text-color:#2c3e50;--text-muted:#8492a6;--border-color:#e5e9f2;--shadow:0 10px 30px rgba(132, 146, 166, 0.2)}.progress-bar{position:fixed;top:0;left:0;right:0;height:4px;background:linear-gradient(90deg, var(--primary-color), var(--secondary-color));width:0;opacity:0;transition:opacity .3s,width .5s;z-index:9999}.progress-bar.visible{opacity:1}body{font-family:'Tajawal',sans-serif;background-color:var(--bg-color);color:var(--text-color);display:flex;justify-content:center;align-items:flex-start;min-height:100vh;padding-top:50px;padding-bottom:50px}.main-container{width:100%;max-width:700px;padding:0 15px;box-sizing:border-box}.search-container{width:100%;background:var(--card-bg);padding:40px;border-radius:16px;box-shadow:var(--shadow);text-align:center}.header i{font-size:50px;color:var(--primary-color)}.header h1{margin:10px 0 5px 0;font-size:2rem;font-weight:800}.header p{color:var(--text-muted);margin-bottom:30px;font-size:1.1rem}input[type=number]{width:100%;padding:15px;margin-bottom:20px;border:2px solid var(--border-color);background:#fcfdff;border-radius:12px;box-sizing:border-box;text-align:center;font-size:2.5rem;font-weight:700;transition:all .3s ease}input[type=number]:focus{border-color:var(--primary-color);box-shadow:0 0 0 4px rgba(74,105,189,.2);outline:none}.search-btn{background:var(--primary-color);color:white;padding:15px;border:none;border-radius:12px;cursor:pointer;font-size:1.2rem;font-weight:700;transition:all .3s ease;width:100%;display:flex;justify-content:center;align-items:center;gap:10px;box-shadow:0 4px 15px rgba(74,105,189,.3)}.search-btn:hover{transform:translateY(-3px);box-shadow:0 7px 20px rgba(74,105,189,.4)}.search-btn:disabled{background:#adb5bd;box-shadow:none;transform:none;cursor:not-allowed}.search-history{margin-top:20px;text-align:center}.search-history h3{font-size:.9rem;color:var(--text-muted);margin-bottom:10px}.history-tags{display:flex;flex-wrap:wrap;justify-content:center;gap:8px}.history-tag{font-size:.9rem;background:var(--bg-color);padding:6px 12px;border-radius:50px;cursor:pointer;transition:all .2s ease}.history-tag:hover{background:#e9ecef;transform:scale(1.05)}.result-area{display:none;width:100%;margin-top:40px}.card{width:100%;background:var(--card-bg);margin-bottom:25px;border-radius:16px;box-shadow:var(--shadow);overflow:hidden;opacity:0;transform:translateY(20px);animation:fadeInUp .5s ease-out forwards}@keyframes fadeInUp{to{opacity:1;transform:translateY(0)}}.card-header{color:white;padding:20px 25px;display:flex;align-items:center;justify-content:space-between;background-color:var(--primary-color)}.card-header h2{margin:0;font-size:1.4rem;font-weight:700}.card-header .action-icon{background:rgba(255,255,255,0.15);border:none;color:white;width:38px;height:38px;border-radius:50%;cursor:pointer;display:flex;justify-content:center;align-items:center;transition:background .2s ease}.card-header .action-icon:hover{background:rgba(255,255,255,0.3)}.card-body{padding:25px}.analysis-grid{display:grid;grid-template-columns:1fr 1fr;gap:20px}.analysis-item{text-align:center}.analysis-item strong{display:block;margin-bottom:8px;font-size:1rem;color:var(--text-muted)}.analysis-item span{font-size:2.2rem;font-weight:800}.status{padding:8px 25px;border-radius:50px;color:white;font-weight:700;font-size:1.2rem !important;display:inline-block}.status-pass{background:var(--success-color)}.status-fail{background:var(--fail-color)}.subjects-table{width:100%;border-collapse:collapse;text-align:center}.subjects-table th,.subjects-table td{padding:14px;border-bottom:1px solid var(--border-color);font-weight:700;font-size:1rem}.subjects-table th{font-weight:800;color:var(--text-color)}.subjects-table tr:last-child td{border:none}.subjects-table td:nth-child(2){font-weight:800}.subjects-table td.above-avg{color:var(--success-color)}.subjects-table td.below-avg{color:var(--fail-color)}#colleges-list{list-style:none;padding:0;margin:0;max-height:300px;overflow-y:auto}#colleges-list li{padding:14px 20px;border-bottom:1px solid var(--border-color);font-weight:500;display:flex;align-items:center;gap:15px;font-size:1.1rem}#colleges-list li:hover{background-color:rgba(74,105,189,0.05)}#colleges-list li::before{content:'\f19d';font-family:'Font Awesome 6 Free';font-weight:900;color:var(--primary-color)}.actions-footer{text-align:center}.new-search-btn{background-color:#6c757d;color:white;padding:12px 30px;border:none;border-radius:10px;cursor:pointer;font-size:1rem;font-weight:700;transition:all .3s ease}.new-search-btn:hover{background-color:#5a6268;transform:translateY(-2px)}.alert{position:fixed;bottom:20px;left:50%;background-color:var(--fail-color);color:white;padding:15px 25px;border-radius:10px;box-shadow:var(--shadow);z-index:10000;display:flex;align-items:center;gap:15px;opacity:0;transition:all .5s ease;transform:translate(-50%,120%)}.alert.show{opacity:1;transform:translate(-50%,0)}.alert .close-btn{background:none;border:none;color:white;font-size:22px;cursor:pointer}#printable-area{display:none}@media(max-width: 600px){.analysis-grid{grid-template-columns:1fr}}
    </style>
</head>
<body>
    <div class="progress-bar" id="progress-bar"></div>
    <div class="alert" id="alert-box"><i class="fas fa-exclamation-circle"></i> <span id="alert-message"></span><button class="close-btn" onclick="hideAlert()">×</button></div>

    <div class="main-container">
        <div class="search-container" id="search-box">
            <div class="header">
                <i class="fas fa-user-graduate"></i>
                <h1>نتائج الثانوية العامة</h1>
                <p>استعلم عن نتيجتك، واكتشف ترتيبك، وتعرف على مستقبلك الأكاديمي</p>
            </div>
            <input type="number" id="seating-no-input" placeholder="ادخل رقم الجلوس هنا" autofocus>
            <button class="search-btn" id="search-btn" onclick="searchResult()">
                <i class="fas fa-search"></i>
                <span>عرض النتيجة</span>
            </button>
            <div class="search-history" id="search-history"></div>
        </div>
        <div class="result-area" id="result-area">
            <!-- النتائج والتحليلات ستظهر هنا ديناميكياً -->
        </div>
    </div>
    
    <div id="printable-area"></div>
    <script src="script.js"></script>
</body>
</html>
